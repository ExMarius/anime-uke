<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setări - Anime Uke</title>
    
    <!-- Bootstrap 4 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    
    <style>
        .settings-button {
            height: 150px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .settings-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(146, 13, 13, 0.3);
        }
        
        .settings-button .icon-big {
            font-size: 3rem;
            margin-bottom: 10px;
            color: #920d0d;
        }
        
        .settings-button .link-cover {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
        }
        
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
    </style>
</head>
<body class="main-body">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark anime-navbar">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <span class="brand-text">ANIME UKE</span>
            </a>
            
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            <i class="fa fa-home"></i> Home
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="settings.html">
                            <i class="fa fa-cog"></i> Setări
                        </a>
                    </li>
                    <li class="nav-item" id="adminNavItem">
                        <!-- Admin link will appear here for admin users -->
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <div class="container mt-4">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-lg-3 mb-4">
                <div class="box-content">
                    <h4 class="text-center mb-4"><i class="fa fa-user-circle"></i> Meniu Setări</h4>
                    
                    <div class="list-group">
                        <a href="#" class="list-group-item list-group-item-action active">
                            <i class="fa fa-dashboard"></i> Dashboard
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fa fa-user"></i> Profil
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fa fa-lock"></i> Securitate
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fa fa-bell"></i> Notificări
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fa fa-eye"></i> Privatitate
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="logout()">
                            <i class="fa fa-sign-out"></i> Logout
                        </a>
                    </div>
                    
                    <!-- User Info -->
                    <div class="mt-4 text-center">
                        <div class="mb-3">
                            <i class="fa fa-user-circle fa-4x text-danger"></i>
                        </div>
                        <h5 id="settingsUsername">User</h5>
                        <span class="badge badge-danger" id="settingsRole">Role</span>
                    </div>
                </div>
            </div>
            
            <!-- Main Settings Grid -->
            <div class="col-lg-9">
                <div class="box-content">
                    <h2 class="section-title mb-4">
                        <i class="fa fa-cogs"></i> Setări Cont
                    </h2>
                    
                    <div class="settings-grid">
                        <!-- Rang / Facțiuni / Teme -->
                        <div class="settings-button light-container">
                            <div>
                                <a href="#" class="link-cover"></a>
                                <span class="fa fa-briefcase icon-big"></span>
                                <div class="mt-2">Rang / Facțiuni / Teme</div>
                            </div>
                        </div>
                        
                        <!-- Magazin -->
                        <div class="settings-button light-container">
                            <div>
                                <a href="#" class="link-cover"></a>
                                <span class="fa fa-shopping-bag icon-big"></span>
                                <div class="mt-2">Magazin</div>
                            </div>
                        </div>
                        
                        <!-- Despre tine -->
                        <div class="settings-button light-container">
                            <div>
                                <a href="#" class="link-cover"></a>
                                <span class="fa fa-user-circle-o icon-big"></span>
                                <div class="mt-2">Despre tine</div>
                                <small class="text-muted">(sex, vârstă, locație)</small>
                            </div>
                        </div>
                        
                        <!-- Abonări serii -->
                        <div class="settings-button light-container">
                            <div>
                                <a href="#" class="link-cover"></a>
                                <span class="fa fa-newspaper-o icon-big"></span>
                                <div class="mt-2">Abonările tale la serii</div>
                            </div>
                        </div>
                        
                        <!-- Serii recomandate -->
                        <div class="settings-button light-container">
                            <div>
                                <a href="#" class="link-cover"></a>
                                <span class="fa fa-certificate icon-big"></span>
                                <div class="mt-2">Serii recomandate de tine</div>
                            </div>
                        </div>
                        
                        <!-- Episoade vizionate -->
                        <div class="settings-button light-container">
                            <div>
                                <a href="#" class="link-cover"></a>
                                <span class="fa fa-film icon-big"></span>
                                <div class="mt-2">Episoadele tale vizionate</div>
                            </div>
                        </div>
                        
                        <!-- Serii vizionate -->
                        <div class="settings-button light-container">
                            <div>
                                <a href="#" class="link-cover"></a>
                                <span class="fa fa-file-movie-o icon-big"></span>
                                <div class="mt-2">Seriile tale vizionate</div>
                            </div>
                        </div>
                        
                        <!-- Serii de vizionat -->
                        <div class="settings-button light-container">
                            <div>
                                <a href="#" class="link-cover"></a>
                                <span class="fa fa-clock-o icon-big"></span>
                                <div class="mt-2">Seriile planificate de vizionat</div>
                            </div>
                        </div>
                        
                        <!-- Privatitate vizionate -->
                        <div class="settings-button light-container">
                            <div>
                                <a href="#" class="link-cover" id="togglePrivacyWatched"></a>
                                <span class="fa fa-eye icon-big" id="privacyWatchedIcon"></span>
                                <div class="mt-2" id="privacyWatchedText">Privatitate vizionate</div>
                            </div>
                        </div>
                        
                        <!-- Schimbă username -->
                        <div class="settings-button light-container">
                            <div>
                                <a href="#" class="link-cover"></a>
                                <span class="fa fa-user-circle icon-big"></span>
                                <div class="mt-2">Schimbă username</div>
                            </div>
                        </div>
                        
                        <!-- Schimbă e-mail -->
                        <div class="settings-button light-container">
                            <div>
                                <a href="#" class="link-cover"></a>
                                <span class="fa fa-envelope icon-big"></span>
                                <div class="mt-2">Schimbă / verifică e-mail</div>
                            </div>
                        </div>
                        
                        <!-- Schimbă parola -->
                        <div class="settings-button light-container">
                            <div>
                                <a href="#" class="link-cover"></a>
                                <span class="fa fa-key icon-big"></span>
                                <div class="mt-2">Schimbă parola contului</div>
                            </div>
                        </div>
                        
                        <!-- Șterge cont -->
                        <div class="settings-button light-container" style="background: rgba(220, 53, 69, 0.1);">
                            <div>
                                <a href="#" class="link-cover"></a>
                                <span class="fa fa-trash icon-big"></span>
                                <div class="mt-2">Șterge cont</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Current Settings -->
                <div class="box-content mt-4">
                    <h4><i class="fa fa-info-circle"></i> Informații Cont</h4>
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <div class="light-container p-3 mb-3">
                                <strong>Username:</strong> <span id="currentUsername">-</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="light-container p-3 mb-3">
                                <strong>Rol:</strong> <span id="currentRole">-</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="light-container p-3 mb-3">
                                <strong>Data înregistrării:</strong> <span id="registrationDate">-</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="light-container p-3 mb-3">
                                <strong>Ultima activitate:</strong> <span id="lastActivity">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="script.js"></script>
    <script>
        // Check if user is logged in
        document.addEventListener('DOMContentLoaded', function() {
            const user = JSON.parse(localStorage.getItem('currentUser') || 'null');
            
            if (!user) {
                // Redirect to login if not logged in
                window.location.href = 'login.html';
                return;
            }
            
            // Update UI with user info
            document.getElementById('settingsUsername').textContent = user.username;
            document.getElementById('settingsRole').textContent = user.role.toUpperCase();
            document.getElementById('currentUsername').textContent = user.username;
            document.getElementById('currentRole').textContent = user.role.toUpperCase();
            
            // Show admin link if user is admin
            if (user.role === 'admin') {
                document.getElementById('adminNavItem').innerHTML = `
                    <a class="nav-link" href="admin.html">
                        <i class="fa fa-shield"></i> Admin
                    </a>
                `;
            }
            
            // Set registration date (mock data)
            document.getElementById('registrationDate').textContent = 
                new Date().toLocaleDateString('ro-RO');
            document.getElementById('lastActivity').textContent = 
                new Date().toLocaleString('ro-RO');
            
            // Privacy toggle functionality
            let privacyWatched = localStorage.getItem('privacyWatched') !== 'false';
            
            function updatePrivacyUI() {
                const icon = document.getElementById('privacyWatchedIcon');
                const text = document.getElementById('privacyWatchedText');
                
                if (privacyWatched) {
                    icon.className = 'fa fa-eye-slash icon-big';
                    text.textContent = 'Vizionate: Privat';
                } else {
                    icon.className = 'fa fa-eye icon-big';
                    text.textContent = 'Vizionate: Public';
                }
            }
            
            document.getElementById('togglePrivacyWatched').addEventListener('click', function(e) {
                e.preventDefault();
                privacyWatched = !privacyWatched;
                localStorage.setItem('privacyWatched', privacyWatched);
                updatePrivacyUI();
                
                // Show notification
                alert('Setările de privatitate au fost actualizate!');
            });
            
            updatePrivacyUI();
        });
    </script>
</body>
</html>
